"use strict";(self.webpackChunk_infuseai_piperider_ui=self.webpackChunk_infuseai_piperider_ui||[]).push([[759],{72846:function(e,n,t){t.d(n,{B:function(){return u}});var i=t(82175),r=t(37932),o=t(97688),a=t(70647),s=t(45533),l=t(88748),d=t(99147),c=["title","children","allowModalPopup"];function u(e){var n=e.title,t=e.children,u=e.allowModalPopup,h=(0,r.Z)(e,c),x=(0,o.qY)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.kC,(0,i.Z)((0,i.Z)({bg:"whiteAlpha.700",rounded:"md",onClick:function(){return u&&x.onOpen()}},h),{},{children:t})),u&&(0,d.jsx)(l.W,(0,i.Z)((0,i.Z)({},x),{},{size:"full",title:n,footer:(0,d.jsx)(a.kC,{mt:6,w:"100%",direction:"row",justify:"center",children:(0,d.jsx)(s.zx,{colorScheme:"blue",mr:3,onClick:x.onClose,children:"Close"})}),children:t}))]})}},86036:function(e,n,t){t.d(n,{UZ:function(){return x}});var i=t(82175),r=t(79244),o=t(97594),a=t(52630),s=t(52123),l=t(9681),d=t(76324),c=t(73654),u=t(99147),h="#4780A8";function x(e){var n=e.quantileData,t=e.animation,x=void 0!==t&&t;(0,c.Z)(),r.kL.register(o.LU,o.aS,r.f$,r.uw);var m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign({},n),r=(0,l.uB)(e),o=r.max,a=r.min,c=r.mean,u=r.q1,x=r.q3,m=[{text:"box region",fillStyle:d.k8},{text:"p50",fillStyle:h}];return(0,i.Z)({responsive:!0,maintainAspectRatio:!1,layout:{padding:10},indexAxis:"y",scales:{x:{offset:!0},y:{display:!1}},plugins:{legend:{position:"bottom",labels:{boxHeight:10,boxWidth:10,padding:15,generateLabels:function(){return m.map((function(e){return{lineWidth:0,text:e.text,fillStyle:e.fillStyle}}))}}},tooltip:{callbacks:{label:function(){var e=(0,s.J8)(a),n=(0,s.J8)(o),t=(0,s.J8)(c),i=(0,s.J8)(u),r=(0,s.J8)(x);return"MIN: ".concat(e," / P25: ").concat(i," / P50 (median): ").concat(t," / P75: ").concat(r," / MAX: ").concat(n)}}}}},t)}(n,{animation:x}),p=function(e){var n=(0,l.uB)(e),t=n.max,i=n.min,r=n.mean,o=n.q1,a=n.q3;return{labels:[""],datasets:[{data:[{min:i,q1:o,mean:r,q3:a,max:t,median:r,items:[],outliers:[]}],borderWidth:1,itemRadius:1,medianColor:h,meanBackgroundColor:h,backgroundColor:d.k8,borderColor:d.Q,hitPadding:10}]}}(n);return(0,u.jsx)(a.kL,{type:"boxplot",data:p,options:m,plugins:[r.De,r.u]},Date.now())}},37625:function(e,n,t){t.d(n,{$:function(){return V}});var i=t(70647),r=t(44716),o=t(85333),a=t(61431),s=t(39304),l=t(43432),d=t(45533),c=t(78111),u=t(10095),h=t(40485),x=t(59830),m=t(93668),p=t(57872),f=t(12854),g=t(54144),v=t(99147);function j(e){var n=e.items,t=e.singleOnly,r=(0,x.useState)(0),o=(0,a.Z)(r,2)[1],s=(0,m.TH)(),l=(0,a.Z)(s,2),d=l[0],c=l[1];if(!n)return(0,v.jsx)(v.Fragment,{});var u=function e(n){if("folder"===n.type||"database"===n.type||"schema"===n.type||"metric_list"===n.type){var t,i,r=(0,h.Z)(null!==(t=null===n||void 0===n?void 0:n.items)&&void 0!==t?t:[]);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.changeStatus||"impacted"===o.impactStatus)return!0;if(e(o))return!0}}catch(a){r.e(a)}finally{r.f()}}return!1},j=function e(n){var r=n.type,a=n.name,s=n.items;if("folder"!==n.type||n.items&&0!==n.items.length){var l=!!n.expanded,h=s&&s.length>0,x=l?f.bTu:f.Tfp,m=n.changeStatus,j=n.impactStatus,b=!1;l||m||!u(n)||(m="folder_changed");var y=(0,g.Mr)(m,j),S=y.icon,C=y.color,k=f.QoU,w=(0,g.yk)(r).icon;if(w)k=w;else if("database"===r)k=f.bGz;else if("schema"===r)k=f.QoU;else if("table"===r)k=f.aCJ;else if(r.startsWith("column_")){var _=r.slice("column_".length);k=(0,g.MM)(_).icon}else"metric_list"===r?k=p.NMh:"test_list"===r?k=f._rq:"overview"===r&&(k=p.xng);var O,Z=n.path===d;if("model"===r||"table"===r||"source"===r||"seed"===r)b=0===(null!==(O=n.items)&&void 0!==O?O:[]).length;return(0,v.jsxs)(i.HC,{children:[(0,v.jsxs)(i.kC,{_hover:{bg:Z?"piperider.400":"gray.100"},rounded:"md",cursor:"pointer",fontSize:"sm",color:Z?"white":b?"gray":"inherit",bg:Z?"piperider.400":"inherit",onClick:function(){!function(e){e.items&&e.items.length>0&&(e.expanded=!e.expanded,o((function(e){return e+1}))),e.path&&c(e.path)}(n)},alignItems:"center",children:[(0,v.jsx)(i.DE,{as:x,visibility:h?"visible":"hidden"}),(0,v.jsx)(i.DE,{as:k,mr:1}),(0,v.jsx)(i.xv,{flex:"1 1 auto",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",children:a}),!t&&S&&(0,v.jsx)(i.DE,{as:S,color:Z?"white":C,flex:"0 0 16px",mr:"0px"})]}),l&&s&&s.length>0&&(0,v.jsx)(i.aV,{ml:4,spacing:1,my:1,children:s.map((function(n){return e(n)}))})]},a)}};return(0,v.jsx)(i.aV,{spacing:2,children:n.map((function(e){return j(e)}))})}var b=t(11060),y=t(82175),S=t(88088),C=t(11025),k=t(45152),w=(t(10044),t(97688)),_=t(57704),O=t(50681),Z=t(56984),z="darkorange",T=t(44544),F=t(45697);var E=t(80983),D=t(11230),I=t(98256),M=t(77548),L=t(12457);function H(){var e=function(){if("undefined"!==typeof window)return window}(),n=(0,w.VP)(""),t=n.onCopy,i=n.setValue,r=n.hasCopied,o=(0,L.KZ)();return(0,x.useEffect)((function(){var n,t=null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.href;t&&(t=function(e){for(var n=new URL(e),t=0,i=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];t<i.length;t++){var r=i[t];n.searchParams.delete(r)}return n.searchParams.append("utm_source","lineage"),n.toString()}(t),i(t))}),[e,o,i]),(0,v.jsx)(d.zx,{variant:"outline",colorScheme:"gray",size:"sm",onClick:t,children:r?"Copied":"Copy URL"})}var A={customNode:function(e){e.selected;var n,t,r,o=e.data,a=o.singleOnly,s=o.stat,d=o.isSelected,c=o.isHighlighted,u=(0,S.oR)((function(e){return e.transform[2]>.3})),h=null===o||void 0===o?void 0:o.type,x=(0,g.yk)(h),m=x.color,p=x.icon,f=o.changeStatus,j=o.impactStatus,b=d?"gray.400":"gray.200",y="solid";a?b=m:(r=(0,g.Mr)(f,j).icon,(f||"impacted"===j)&&(b=(0,g.Mr)(f,j).color),"added"!==f&&"removed"!==f||(y="dashed"));var C=1,k=b,w="unset";d||(C=1,k="gray.200"),c&&(C=1,k=z,w="0px 5px 15px #00000040");var _=null===o||void 0===o?void 0:o.name,Z=(0,T.k)({base:null===o||void 0===o?void 0:o.base,target:null===o||void 0===o?void 0:o.target,stat:s}),E=Z.statValue,D=Z.statValueF,I=!1;return"impact"===s&&j?(I=!0,D=F.W3[j][0]):s&&void 0!==E&&(I=!0),(0,v.jsx)(O.u,{label:"model"===h?_:"".concat(_," (").concat(h,")"),placement:"top",children:(0,v.jsxs)(i.kC,{width:"300px",_hover:{backgroundColor:u?"gray.100":b},borderColor:k,borderWidth:C,borderStyle:y,backgroundColor:u?"white":b,borderRadius:3,boxShadow:w,padding:0,children:[(0,v.jsx)(i.kC,{backgroundColor:d?b:"gray.100",padding:2,borderRightWidth:C,borderColor:k,borderStyle:y,alignItems:"top",visibility:u?"inherit":"hidden",children:(0,v.jsx)(l.JO,{as:p})}),(0,v.jsxs)(i.kC,{flex:"1 0 auto",mx:"1",width:"100px",direction:"column",children:[(0,v.jsxs)(i.kC,{width:"100%",textAlign:"left",flex:"1",p:1,alignItems:"center",visibility:u?"inherit":"hidden",children:[(0,v.jsx)(i.xu,{flex:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:d?"inherit":"gray.400",children:_}),!a&&r&&(0,v.jsx)(i.kC,{children:(0,v.jsx)(l.JO,{color:d?b:"gray.400",as:r,flex:"0 0 20px"})})]}),I&&(0,v.jsx)(i.xu,{width:"100%",visibility:u?"inherit":"hidden",mt:0,children:(0,v.jsx)(i.xv,{textAlign:"right",fontSize:"sm",color:"inherit",children:a||"impact"===s?(0,v.jsx)(v.Fragment,{children:D}):(0,v.jsx)(T.h,{base:null===o||void 0===o?void 0:o.base,target:null===o||void 0===o?void 0:o.target,stat:s,isActive:false,negativeChange:"execution_time"===s})})})]}),Object.keys(null!==(n=null===o||void 0===o?void 0:o.dependsOn)&&void 0!==n?n:{}).length>0&&(0,v.jsx)(S.HH,{type:"target",position:S.Ly.Left,isConnectable:!1}),Object.keys(null!==(t=null===o||void 0===o?void 0:o.children)&&void 0!==t?t:{}).length>0&&(0,v.jsx)(S.HH,{type:"source",position:S.Ly.Right,isConnectable:!1})]})})},customGroup:function(e){var n=e.data;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(i.kC,{style:{height:"100%",position:"relative",backgroundColor:"#B3B3B340",borderRadius:"5px"},children:(0,v.jsx)("label",{style:{position:"absolute",bottom:0,right:0,textAlign:"right",margin:"5px"},children:n.label})})})}},P={customEdge:function(e){var n=e.sourceX,t=e.sourceY,i=e.targetX,r=e.targetY,o=e.sourcePosition,s=e.targetPosition,l=e.style,d=void 0===l?{}:l,c=e.markerEnd,u=e.data,h=(0,y.Z)({},d);h.storke="gray",null!==u&&void 0!==u&&u.singleOnly||(null!==u&&void 0!==u&&u.from.includes("target")?null!==u&&void 0!==u&&u.from.includes("base")||(h.stroke="#1a7f37",h.strokeDasharray="5"):(h.stroke="#cf222e",h.strokeDasharray="5")),null!==u&&void 0!==u&&u.isHighlighted&&(h.stroke=z);var x=(0,S.OQ)({sourceX:n,sourceY:t,sourcePosition:o,targetX:i,targetY:r,targetPosition:s}),m=(0,a.Z)(x,1)[0];return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(S.u5,{path:m,markerEnd:c,style:(0,y.Z)((0,y.Z)({},h),d)})})}},R={"":"No Stat",impact:"Impact",execution_time:"Execution Time",row_count:"Row Count"},B={all:"All",potentially_impacted:"Potentially Impacted",potentially_impacted_plus:"Potentially Impacted+"};function J(e){var n,t=e.singleOnly,r=(0,S._K)(),o=u.nq.getState().lineageGraph,s=void 0===o?{}:o,c=(0,S.Rr)([]),h=(0,a.Z)(c,3),p=h[0],g=h[1],j=h[2],z=(0,S.ll)([]),T=(0,a.Z)(z,3),F=T[0],J=T[1],N=T[2],U=(0,m.TH)(),q=(0,a.Z)(U,2),V=q[0],G=q[1],K=(0,L.KZ)(),Q=(0,x.useState)(),X=(0,a.Z)(Q,2),Y=X[0],$=X[1],ee=(0,x.useState)([]),ne=(0,a.Z)(ee,2),te=ne[0],ie=ne[1],re=(0,x.useState)([]),oe=(0,a.Z)(re,2),ae=oe[0],se=oe[1],le=(0,x.useCallback)((function(e,n){return[null!==K.get(e)?K.get(e):n,function(n){K.set(e,n),G(V+"?"+K.toString())}]}),[K,G,V]),de=le("g_s",t?"row_count":"impact"),ce=(0,a.Z)(de,2),ue=ce[0],he=ce[1],xe=le("g_ci","potentially_impacted_plus"),me=(0,a.Z)(xe,2),pe=me[0],fe=me[1],ge=le("g_cs","potentially_impacted"),ve=(0,a.Z)(ge,2),je=ve[0],be=ve[1],ye=(0,w.qY)(),Se=ye.isOpen,Ce=ye.onOpen,ke=ye.onClose,we=(0,w.qY)(),_e=we.isOpen,Oe=we.onOpen,Ze=we.onClose,ze=(0,w.qY)(),Te=ze.isOpen,Fe=ze.onOpen,Ee=ze.onClose,De=(0,x.useState)([0,0]),Ie=(0,a.Z)(De,2),Me=Ie[0],Le=Ie[1],He=(0,x.useState)(),Ae=(0,a.Z)(He,2),Pe=Ae[0],Re=Ae[1];(0,I.m)({eventName:M.FP.PAGE_VIEW,eventProperties:{type:t?M.ll:M.bB,page:"lineage-graph"}});var Be=(0,x.useMemo)((function(){var e=new Set(Object.keys(s)),n=(0,D.ud)(s),t=(0,D.pT)(s),i=(0,D._e)(s,Array.from(n));return{all:e,changed:t,impacted:i,impactedPlus:(0,D.OA)(i,(0,D.cr)(s,Array.from(n),1))}}),[s]),Je=(0,x.useCallback)((function(e,n){var i=(0,D.jh)(s,e,n,{nodeOverrides:{singleOnly:t||!1,isHighlighted:!1,stat:ue},edgeOverrides:{singleOnly:t||!1}}),o=i.nodes,a=i.edges;g(o),J(a),setTimeout((function(){return r.fitView({maxZoom:1})}),0)}),[s,t,ue,g,J,r]);return(0,x.useEffect)((function(){var e=Be.all,n=Be.all;Y?(e=new Set,Y&&(e=(0,D.OA)((0,D._e)(s,[Y]),(0,D.cr)(s,[Y])))):t||("potentially_impacted"===pe?e=Be.impacted:"potentially_impacted_plus"===pe&&(e=Be.impactedPlus),"potentially_impacted"===je?n=Be.impacted:"changed"===je&&(n=Be.changed)),e=(0,D.OA)(e,(0,D.cr)(s,te,1),(0,D._e)(s,ae,1)),Je(e,n)}),[s,pe,je,ue,Y,te,ae,Be,t,Je]),(0,v.jsxs)(i.kC,{flexDirection:"column",style:{width:"100%",height:"calc(100vh - 160px)"},children:[(0,v.jsx)(i.xu,{flex:"1",children:(0,v.jsxs)(S.x$,{nodes:p,edges:F,nodeTypes:A,edgeTypes:P,onClick:function(){ke(),Ze(),Ee()},onNodesChange:j,onEdgesChange:N,onNodeMouseEnter:function(e,n){return function(e){Ee();var n=(0,D.OA)((0,D.cr)(s,[e.id]),(0,D._e)(s,[e.id])),t=new Set(F.filter((function(e){return n.has(e.source)&&n.has(e.target)})).map((function(e){return e.id})));J(F.map((function(e){return t.has(e.id)?(0,y.Z)((0,y.Z)({},e),{},{data:(0,y.Z)((0,y.Z)({},e.data),{},{isHighlighted:!0})}):e}))),g(p.map((function(e){return n.has(e.id)?(0,y.Z)((0,y.Z)({},e),{},{data:(0,y.Z)((0,y.Z)({},e.data),{},{isHighlighted:!0})}):e})))}(n)},onNodeMouseLeave:function(){return J(F.map((function(e){return(0,y.Z)((0,y.Z)({},e),{},{data:(0,y.Z)((0,y.Z)({},e.data),{},{isHighlighted:!1})})}))),void g(p.map((function(e){return(0,y.Z)((0,y.Z)({},e),{},{data:(0,y.Z)((0,y.Z)({},e.data),{},{isHighlighted:!1})})})))},onContextMenu:function(e){e.preventDefault(),Le([e.pageX,e.pageY]);var n=e.target.closest(".react-flow__node");if(n){var t,i=null===n||void 0===n||null===(t=n.dataset)||void 0===t?void 0:t.id;Re(i)}else Re(void 0);Fe()},minZoom:.1,fitView:!0,children:[(0,v.jsx)(C.Z,{showInteractive:!1}),(0,v.jsx)(k.a,{nodeStrokeWidth:3,zoomable:!0,pannable:!0}),(0,v.jsx)(S.s_,{position:"top-right",children:(0,v.jsx)(H,{})}),!t&&(0,v.jsx)(S.s_,{position:"top-left",children:(0,v.jsx)(W,{})})]})}),(0,v.jsxs)(i.kC,{flex:"0 0 60px",bg:"gray.100",gap:3,px:10,py:2,border:"0px solid lightgray",borderTopWidth:1,alignItems:"center",children:[(0,v.jsxs)(i.xu,{p:2,flex:"0 1 160px",fontSize:"14px",children:[(0,v.jsx)(i.xv,{color:"gray",mb:"2px",children:"Stat"}),(0,v.jsxs)(_.v2,{closeOnSelect:!1,isOpen:Se,onClose:ke,children:[(0,v.jsx)(_.j2,{as:i.xu,onClick:Ce,children:(0,v.jsxs)(i.kC,{alignItems:"center",fontSize:"sm",gap:2,children:[R[ue]||"(unknown)",(0,v.jsx)(E.g8,{})]})}),(0,v.jsx)(_.qy,{children:(0,v.jsxs)(_.__,{value:ue,onChange:function(e){he(e)},children:[(0,v.jsx)(_.ii,{value:"",fontSize:"sm",children:R[""]}),!t&&(0,v.jsx)(_.ii,{value:"impact",fontSize:"sm",children:R.impact}),(0,v.jsx)(_.ii,{value:"execution_time",fontSize:"sm",children:R.execution_time}),(0,v.jsx)(_.ii,{value:"row_count",fontSize:"sm",children:R.row_count})]})})]})]}),!t&&(0,v.jsxs)(i.xu,{p:2,flex:"0 1 200px",fontSize:"14px",children:[(0,v.jsx)(i.xv,{color:"gray",mb:"2px",children:"Filter"}),(0,v.jsxs)(_.v2,{closeOnSelect:!1,isOpen:_e,onClose:Ze,children:[(0,v.jsx)(_.j2,{as:i.xu,onClick:Oe,children:(0,v.jsxs)(i.kC,{gap:2,alignItems:"center",fontSize:"sm",children:[B[pe]||"(unknown)",(0,v.jsx)(E.g8,{})]})}),(0,v.jsxs)(_.qy,{children:[(0,v.jsxs)(_.__,{title:"Include",value:pe,onChange:function(e){fe(e),$(void 0),ie([]),se([])},children:[(0,v.jsxs)(_.ii,{value:"potentially_impacted",fontSize:"sm",children:["Potentially Impacted"," ",(0,v.jsx)(O.u,{label:"Code changed, and their downstreams",children:(0,v.jsx)(i.xu,{display:"inline-block",children:(0,v.jsx)(l.JO,{as:f.H33})})})]}),(0,v.jsxs)(_.ii,{value:"potentially_impacted_plus",fontSize:"sm",children:["Potentially Impacted+"," ",(0,v.jsx)(O.u,{label:"Code changed, and their downstreams, and 1st degree upstreams",children:(0,v.jsx)(i.xu,{display:"inline-block",children:(0,v.jsx)(l.JO,{as:f.H33})})})]}),(0,v.jsx)(_.ii,{value:"all",fontSize:"sm",children:"All"})]}),(0,v.jsxs)(_.__,{title:"Select",value:je,onChange:function(e){be(e)},children:[(0,v.jsx)(_.ii,{fontSize:"sm",value:"changed",children:"Code Changed"}),(0,v.jsx)(_.ii,{fontSize:"sm",value:"potentially_impacted",children:"Potentially Impacted"}),(0,v.jsx)(_.ii,{fontSize:"sm",value:"all",children:"All"})]})]})]})]}),(0,v.jsx)(i.LZ,{}),(0,v.jsx)(d.zx,{_hover:{bg:"gray.200"},onClick:function(){$(void 0),fe("potentially_impacted_plus"),be("potentially_impacted"),ie([]),se([])},children:"Reset"})]}),(0,v.jsx)(Z.h_,{children:(0,v.jsxs)(_.v2,{isOpen:Te&&void 0!==Pe,onClose:Ee,size:"sm",children:[(0,v.jsx)(_.j2,{"aria-hidden":!0,w:1,h:1,style:{position:"absolute",left:Me[0],top:Me[1],cursor:"default"}}),(0,v.jsxs)(_.qy,{zIndex:"modal",fontSize:"12px",children:[Pe&&(null===(n=s[Pe])||void 0===n?void 0:n.path)&&(0,v.jsx)(_.sN,{onClick:function(){var e;G((null===(e=s[Pe])||void 0===e?void 0:e.path)||"")},children:"Go to page"}),Pe&&(0,v.jsx)(_.sN,{onClick:function(){$(Pe),ie([]),se([])},children:"Focus on node"}),Pe&&(0,v.jsx)(_.sN,{onClick:function(){ie([].concat((0,b.Z)(te),[Pe||""]))},children:"Expand Left"}),Pe&&(0,v.jsx)(_.sN,{onClick:function(){se([].concat((0,b.Z)(ae),[Pe||""]))},children:"Expand Right"})]})]})})]})}function W(){var e=(0,g.Mr)(null,"impacted"),n=e.icon,t=e.color;return(0,v.jsxs)(i.xu,{bg:"white",padding:"12px",borderWidth:"1px",borderColor:"gray.200",fontSize:"sm",children:[Object.entries(u.FR).map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=(0,a.Z)(n[1],2),o=r[0],s=(r[1],(0,g.Mr)(t)),d=s.icon,c=s.color;return(0,v.jsxs)(i.kC,{alignItems:"center",gap:"6px",marginBottom:"2px",children:[(0,v.jsx)(l.JO,{color:c,as:d})," ",o]})})),(0,v.jsxs)(i.kC,{alignItems:"center",gap:"6px",marginBottom:"2px",children:[(0,v.jsx)(l.JO,{color:t,as:n})," Impacted"]})]})}function N(e){var n=e.singleOnly;return(0,v.jsx)(S.tV,{children:(0,v.jsx)(J,{singleOnly:n})})}var U=t(87707);function q(e){var n=e.singleOnly,t=u.nq.getState(),r=t.isLegacy,h=t.projectTree,f=t.databaseTree,g=t.expandTreeForPath,b=(0,m.TH)(),y=(0,a.Z)(b,2),S=y[0],C=y[1],k=(0,x.useState)(-1),w=(0,a.Z)(k,2),_=w[0],O=w[1],Z=(0,o.B)(),z=(0,L.KZ)();return(0,x.useEffect)((function(){"/ssr"!==S&&(g(S),_<0&&O(0))}),[S,_,g]),r?(0,v.jsx)(i.xu,{mt:5,children:(0,v.jsx)(j,{items:h,singleOnly:n})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(s.mQ,{index:_,onChange:function(e){g(S),O(e)},children:[(0,v.jsxs)(i.kC,{children:[(0,v.jsxs)(s.td,{flex:"1 1 auto",flexWrap:"wrap",children:[(0,v.jsxs)(s.OK,{children:[(0,v.jsx)(l.JO,{as:p.$nz,mr:2}),"Project"]}),(0,v.jsxs)(s.OK,{children:[(0,v.jsx)(l.JO,{as:p.i1q,mr:2}),"Database"]})]}),Z&&(0,v.jsx)(i.xu,{borderBottom:"2px",borderColor:"gray.200",children:(0,v.jsx)(d.hU,{"aria-label":"Show Lineage Graph",icon:(0,v.jsx)(U.UCm,{}),isRound:!1,backgroundColor:"transparent",onClick:function(){return C(S+"?g_v=1")}})})]}),(0,v.jsxs)(s.nP,{children:[(0,v.jsx)(s.x4,{children:(0,v.jsx)(j,{items:h,singleOnly:n})}),(0,v.jsx)(s.x4,{children:(0,v.jsx)(j,{items:f,singleOnly:n})})]})]}),(0,v.jsxs)(c.u_,{isOpen:Z&&"1"===z.get("g_v"),onClose:function(){return C(S)},size:"xl",children:[(0,v.jsx)(c.ZA,{}),(0,v.jsxs)(c.hz,{maxW:"calc(100vw - 200px)",backgroundColor:"#f6f6f6",children:[(0,v.jsxs)(c.xB,{borderBottom:2,backgroundColor:"gray.100",border:"0 solid lightgray",borderBottomWidth:1,children:[(0,v.jsx)(i.xv,{fontSize:"sm",children:n?"Lineage Graph":"Lineage Diff"}),(0,v.jsx)(c.ol,{})]}),(0,v.jsx)(c.fe,{p:0,children:(0,v.jsx)(N,{singleOnly:n})})]})]})]})}function V(e){var n=e.children,t=e.sideNavTop,a=void 0===t?"0px":t,s=e.cloud,l=e.singleOnly;return(0,v.jsx)(o.Q,{cloud:!0===s,children:(0,v.jsxs)(i.kC,{width:"100%",h:"100%",alignItems:"stretch",children:[(0,v.jsx)(i.xu,{overflowY:"auto",position:"sticky",top:a,flex:"0 1 400px",maxWidth:"400px",minWidth:"280px",ml:"16px",maxHeight:"calc(100vh - ".concat(a,")"),children:(0,v.jsx)(q,{singleOnly:l})}),(0,v.jsx)(i.xu,{maxHeight:r.t4,h:"100%",p:"16px",flex:"1 0 800px",width:"800px",children:n})]})})}},9459:function(e,n,t){t.d(n,{T:function(){return s}});var i=t(70647),r=t(45533),o=t(93668),a=t(99147);function s(){return(0,a.jsxs)(i.kC,{direction:"column",width:"100%",minH:"100vh",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(i.X6,{fontSize:"3xl",children:"404, Not Found!"}),(0,a.jsx)(r.zx,{mt:4,children:(0,a.jsx)(o.rU,{href:"/",children:"Back to Home"})})]})}},24147:function(e,n,t){t.d(n,{a:function(){return o}});var i=t(49960),r=t(99147);function o(){return(0,r.jsxs)(i.bZ,{status:"error",mb:3,rounded:10,children:[(0,r.jsx)(i.zM,{}),(0,r.jsxs)(i.X,{children:["Schemas and reports generated from manifest files are limited to information in those manifests. For a more detailed report, follow these"," ",(0,r.jsx)("a",{href:"https://docs.piperider.io/get-started/run",style:{cursor:"pointer",textDecoration:"underline"},target:"_blank",rel:"noreferrer",children:"instructions"})]})]})}},11230:function(e,n,t){t.d(n,{OA:function(){return p},U8:function(){return g},_e:function(){return h},cr:function(){return u},jh:function(){return d},pT:function(){return x},ud:function(){return m}});var i=t(82175),r=t(61431),o=t(92105),a=t.n(o),s=(t(10044),t(61163)),l=300,d=function(e,n,t,o){var a=[],s=[];return Object.entries(e).forEach((function(e){var s=(0,r.Z)(e,2),l=s[0],d=s[1];if(n.has(l)){var c=t.has(l);if("test"!==d.type){var u={id:l,position:{x:0,y:0},data:(0,i.Z)((0,i.Z)((0,i.Z)({},d),o.nodeOverrides),{},{isSelected:c}),draggable:!0,type:"customNode"};a.push(u)}}})),a.forEach((function(e){var t=e.data;Object.entries(t.dependsOn).forEach((function(e){var a=(0,r.Z)(e,2),l=a[0],d=a[1];n.has(l)&&s.push({source:l,target:t.uniqueId,id:"".concat(t.uniqueId," -> ").concat(l),type:"customEdge",data:(0,i.Z)((0,i.Z)({},d),o.edgeOverrides)})}))})),c(a,s,"LR"),{nodes:a,edges:s}},c=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LR",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r="LR"===t,o=new(a().graphlib.Graph);o.setDefaultEdgeLabel((function(){return{}})),o.setGraph({rankdir:t}),e.forEach((function(e){o.setNode(e.id,{width:l,height:60})})),n.forEach((function(e){o.setEdge(e.source,e.target)})),a().layout(o),e.forEach((function(e){var n=o.node(e.id);return e.targetPosition=r?"left":"top",e.sourcePosition=r?"right":"bottom",e.position={x:n.x-150+i,y:n.y-30+i},e}))};function u(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return(0,s.Es)(n,(function(n){var t,i;return Object.keys(null!==(t=null===(i=e[n])||void 0===i?void 0:i.dependsOn)&&void 0!==t?t:{})}),t)}function h(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return(0,s.Bj)(n,(function(n){var t,i;return Object.keys(null!==(t=null===(i=e[n])||void 0===i?void 0:i.children)&&void 0!==t?t:{})}),t)}function x(e){var n=new Set;return Object.entries(e).forEach((function(e){var t=(0,r.Z)(e,2),i=t[0],o=t[1];"added"!==o.changeStatus&&"removed"!==o.changeStatus&&"modified"!==o.changeStatus||n.add(i)})),n}function m(e){var n=new Set;return Object.entries(e).forEach((function(e){var t=(0,r.Z)(e,2),i=t[0],o=t[1];"added"!==o.changeStatus&&"removed"!==o.changeStatus&&"modified"!==o.changeStatus||n.add(i)})),n}function p(){for(var e=new Set,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return t.forEach((function(n){n.forEach((function(n){e.add(n)}))})),e}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"decimal";if(void 0!==e){if("decimal"===n)return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}).format(e);if("percent"===n)return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}).format(e);if("duration"===n){var t=e<0?"-":"",i=Math.abs(e),r=Math.floor(i%60),o=Math.floor(i/60%60),a=Math.floor(i/3600),s=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),l=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2});return i<10?"".concat(t).concat(s.format(i),'"'):i<60?"".concat(t).concat(r,'"'):i<3600?"".concat(t).concat(o,"'").concat(l.format(r),'"'):"".concat(t).concat(a,"h").concat(l.format(o),"'").concat(l.format(r),'"')}}}function g(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"decimal",r=void 0!==n&&n.hasOwnProperty(t)?n[t]:void 0,o=void 0!==e&&e.hasOwnProperty(t)?e[t]:void 0,a=null!==r&&void 0!==r?r:o;if(void 0===a)return{statValueF:"-"};var s=f(a,i);if(void 0===o||void 0===r)return{statValue:a,statValueF:s};var l=r-o;"duration"===i&&Math.abs(l)<.01&&(l=0);var d=f(l,i);return{statValue:a,statValueF:s,statDiff:l,statDiffF:d}}},5435:function(e,n,t){t.d(n,{g:function(){return U}});var i=t(40485),r=t(11060),o=t(61431),a=t(82175),s=t(45533),l=t(70647),d=t(49960),c=t(39304),u=t(57704),h=t(43432),x=t(59830),m=t(67841),p=t(87707),f=t(61163),g=t(10095),v=t(74397),j=t(24147),b=t(39129),y=t(50681),S=t(57872),C=t(93668),k=t(45697),w=t(54144),_=t(99147);function O(e){var n=e.value,t=e.changeStatus,i=(0,w.Mr)(t),r=i.icon,o=i.color;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.JO,{as:r,color:o})," ",(0,_.jsx)(l.xv,{ml:1,children:n})]})}function Z(e){var n=e.added,t=e.removed,i=e.modified,r=[],o=!0;return n&&(r.push(o?(0,_.jsx)(_.Fragment,{children:"("}):(0,_.jsx)(l.xu,{pr:2,children:","})),r.push((0,_.jsx)(O,{value:n,changeStatus:"added"})),o=!1),t&&(r.push(o?(0,_.jsx)(_.Fragment,{children:"("}):(0,_.jsx)(l.xu,{pr:2,children:","})),r.push((0,_.jsx)(O,{value:t,changeStatus:"removed"})),o=!1),i&&(r.push(o?(0,_.jsx)(_.Fragment,{children:"("}):(0,_.jsx)(l.xu,{pr:2,children:","})),r.push((0,_.jsx)(O,{value:i,changeStatus:"modified"})),o=!1),o||r.push((0,_.jsx)(_.Fragment,{children:")"})),(0,_.jsx)(l.xu,{display:"inline-block",children:(0,_.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:r})})}var z=t(44544);function T(e){var n=e.tableColumnsOnly,t=e.sortMethod,i=e.handleSortChange,r=e.singleOnly;return(0,_.jsx)(b.xJ,{children:(0,_.jsxs)(b.iA,{variant:"simple",children:[(0,_.jsx)(b.hr,{children:(0,_.jsxs)(b.Tr,{children:[!r&&(0,_.jsx)(b.Th,{p:0,width:"30px"}),(0,_.jsxs)(b.Th,{pl:0,children:["Name"," ",(0,_.jsx)(y.u,{label:"sort by ".concat(t," order"),children:(0,_.jsx)(s.hU,{"aria-label":"Sort",icon:"alphabet"===t?(0,_.jsx)(S.Llq,{}):(0,_.jsx)(S.yzb,{}),onClick:i,size:"sm",ml:"1"})})]}),!r&&(0,_.jsx)(b.Th,{p:0,width:"30px",children:"Impact"}),(0,_.jsx)(b.Th,{children:"Columns"}),(0,_.jsx)(b.Th,{isNumeric:!0,children:"Rows"}),(0,_.jsx)(b.Th,{isNumeric:!0,children:"Execution Time"})]})}),(0,_.jsx)(b.p3,{fontSize:"sm",children:n.map((function(e,n){var t=(0,o.Z)(e,3),i=t[1],a=i.base,s=i.target,d=t[2],c=null!==s&&void 0!==s?s:a;if(!c)return(0,_.jsx)(_.Fragment,{});var u=(0,w.Mr)(d.changeStatus,d.impactStatus),x=u.icon,m=u.color,p="-";return d.impactStatus&&(p=k.W3[d.impactStatus][0]),(0,_.jsxs)(b.Tr,{children:[!r&&(0,_.jsx)(b.Td,{p:0,children:(0,_.jsx)(l.kC,{alignContent:"center",children:x&&(0,_.jsx)(h.JO,{color:m,as:x})})}),(0,_.jsx)(b.Td,{pl:0,children:(0,_.jsx)(C.rU,{href:"/".concat(c.resource_type,"s/").concat(c.unique_id),children:c.name})}),!r&&(0,_.jsx)(b.Td,{pl:0,children:p}),(0,_.jsxs)(b.Td,{children:[((null===d||void 0===d?void 0:d.columns)||[]).length,!r&&"added"!==d.changeStatus&&"removed"!==d.changeStatus&&(0,_.jsx)(Z,{added:d.added,removed:d.deleted,modified:d.changed})]}),(0,_.jsx)(b.Td,{textAlign:"right",fontSize:"sm",children:(0,_.jsx)(z.h,{base:a,target:s,stat:"row_count"})}),(0,_.jsx)(b.Td,{textAlign:"right",fontSize:"sm",children:(0,_.jsx)(z.h,{base:a,target:s,stat:"execution_time",negativeChange:!0})})]})}))})]})})}function F(e){var n=e.tableColumnsOnly,t=e.sortMethod,i=e.handleSortChange,r=e.singleOnly;return(0,_.jsx)(b.xJ,{children:(0,_.jsxs)(b.iA,{variant:"simple",children:[(0,_.jsx)(b.hr,{children:(0,_.jsxs)(b.Tr,{children:[!r&&(0,_.jsx)(b.Th,{p:0,width:"30px"}),(0,_.jsxs)(b.Th,{pl:0,children:["Name"," ",(0,_.jsx)(y.u,{label:"sort by ".concat(t," order"),children:(0,_.jsx)(s.hU,{"aria-label":"Sort",icon:"alphabet"===t?(0,_.jsx)(S.Llq,{}):(0,_.jsx)(S.yzb,{}),onClick:i,size:"sm",ml:"1"})})]}),!r&&(0,_.jsx)(b.Th,{p:0,width:"30px",children:"Impact"}),(0,_.jsx)(b.Th,{children:"Queries"})]})}),(0,_.jsx)(b.p3,{fontSize:"sm",children:n.map((function(e,n){var t=(0,o.Z)(e,3),i=t[1],a=i.base,s=i.target,d=t[2],c=null!==a&&void 0!==a?a:s;if(!c)return(0,_.jsx)(_.Fragment,{});var u=(0,w.Mr)(d.changeStatus,d.impactStatus),x=u.icon,m=u.color,p="-";return d.impactStatus&&(p=k.W3[d.impactStatus][0]),(0,_.jsxs)(b.Tr,{children:[!r&&(0,_.jsx)(b.Td,{p:0,children:(0,_.jsx)(l.kC,{alignContent:"center",children:x&&(0,_.jsx)(h.JO,{color:m,as:x})})}),(0,_.jsx)(b.Td,{pl:0,children:(0,_.jsx)(C.rU,{href:"/metrics/".concat(c.unique_id),children:c.name})}),!r&&(0,_.jsx)(b.Td,{pl:0,children:p}),(0,_.jsxs)(b.Td,{children:["".concat(Object.keys((null===c||void 0===c?void 0:c.__queries)||{}).length),(0,_.jsx)(Z,{added:d.added,removed:d.deleted,modified:d.changed})]})]})}))})]})})}function E(e){var n=e.tableColumnsOnly,t=e.sortMethod,i=e.handleSortChange,r=e.singleOnly;return(0,_.jsx)(b.xJ,{children:(0,_.jsxs)(b.iA,{variant:"simple",children:[(0,_.jsx)(b.hr,{children:(0,_.jsxs)(b.Tr,{children:[!r&&(0,_.jsx)(b.Th,{p:0,width:"30px"}),(0,_.jsxs)(b.Th,{pl:0,children:["Name"," ",(0,_.jsx)(y.u,{label:"sort by ".concat(t," order"),children:(0,_.jsx)(s.hU,{"aria-label":"Sort",icon:"alphabet"===t?(0,_.jsx)(S.Llq,{}):(0,_.jsx)(S.yzb,{}),onClick:i,size:"sm",ml:"1"})})]}),(0,_.jsx)(b.Th,{children:"Type"}),!r&&(0,_.jsx)(b.Th,{p:0,width:"30px",children:"Impact"})]})}),(0,_.jsx)(b.p3,{fontSize:"sm",children:n.map((function(e,n){var t=(0,o.Z)(e,3),i=t[1],a=i.base,s=i.target,d=t[2],c=null!==s&&void 0!==s?s:a;if(!c)return(0,_.jsx)(_.Fragment,{});var u=(0,w.Mr)(d.changeStatus,d.impactStatus),x=u.icon,m=u.color,p="-";return d.impactStatus&&(p=k.W3[d.impactStatus][0]),(0,_.jsxs)(b.Tr,{children:[!r&&(0,_.jsx)(b.Td,{p:0,children:(0,_.jsx)(l.kC,{alignContent:"center",children:x&&(0,_.jsx)(h.JO,{color:m,as:x})})}),(0,_.jsx)(b.Td,{pl:0,children:(0,_.jsx)(C.rU,{href:"/".concat(c.resource_type,"s/").concat(c.unique_id),children:c.name})}),(0,_.jsx)(b.Td,{pl:0,children:c.resource_type}),!r&&(0,_.jsx)(b.Td,{pl:0,children:p})]})}))})]})})}var D=t(85333),I=t(12854);function M(e){var n=e.name,t=e.value,i=e.tip;return(0,_.jsxs)(l.gC,{alignItems:"stretch",children:[(0,_.jsxs)(l.xv,{fontSize:"sm",color:"gray",children:[n,i&&(0,_.jsx)(y.u,{label:i,children:(0,_.jsx)(l.xu,{display:"inline-block",children:(0,_.jsx)(h.JO,{mx:"2px",as:I.H33,boxSize:3})})})]}),(0,_.jsx)(l.xv,{fontSize:"sm",children:t})]})}function L(e){var n=e.changeStatus,t=e.value,i=(0,o.Z)(k.FR[null!==n&&void 0!==n?n:""],1)[0],r=(0,w.Mr)(n),a=r.icon,s=r.color;return(0,_.jsxs)(l.gC,{alignItems:"stretch",children:[(0,_.jsxs)(l.kC,{alignItems:"center",fontSize:"sm",color:"gray",children:[(0,_.jsx)(h.JO,{mr:"5px",as:a,color:s}),i]}),(0,_.jsx)(l.xv,{fontSize:"sm",children:t})]})}function H(e){var n=e.tableColumnsOnly.reduce((function(e,n){var t=(0,o.Z)(n,3),i=(t[0],t[1]),r=(i.base,i.target),a=t[2],s=a.changeStatus,l=a.impactStatus;return{total:e.total+(r?1:0),adds:e.adds+("added"===s?1:0),removes:e.removes+("removed"===s?1:0),modifies:e.modifies+("modified"===s?1:0),potentiallyImpacted:e.potentiallyImpacted+(l?1:0),assessed:e.assessed+("impacted"===l||"assessed_not_impacted"===l?1:0),skipped:e.skipped+("skipped"===l?1:0),impacted:e.impacted+("impacted"===l?1:0)}}),{total:0,adds:0,removes:0,modifies:0,potentiallyImpacted:0,assessed:0,skipped:0,impacted:0}),t=n.adds,i=n.removes,r=n.modifies,a=n.potentiallyImpacted,s=n.assessed,d=n.skipped,c=n.impacted;return(0,_.jsxs)(l.rj,{templateColumns:"1fr 1fr",mb:"10px",borderTop:"1px solid lightgray",children:[(0,_.jsx)(l.xu,{borderColor:"lightgray",children:(0,_.jsx)(M,{name:"Code Changes",value:(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(l.rj,{templateColumns:"1fr 1fr 1fr",width:"100%",children:[(0,_.jsx)(L,{changeStatus:"added",value:t}),(0,_.jsx)(L,{changeStatus:"removed",value:i}),(0,_.jsx)(L,{changeStatus:"modified",value:r})]})})})}),(0,_.jsx)(l.xu,{borderLeft:"1px",paddingLeft:"12px",borderColor:"lightgray",children:(0,_.jsx)(M,{name:"Resource Impact",value:(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(l.rj,{templateColumns:"1fr 1fr 1fr",width:"100%",children:[(0,_.jsx)(M,{name:"Potentially Impacted",value:a}),(0,_.jsx)(M,{name:"Assessed",value:(0,_.jsxs)(_.Fragment,{children:[s," assessed, ",d," skipped"]})}),(0,_.jsx)(M,{name:"Impacted",value:c})]})})})})]})}var A=t(80983),P=t(90225),R=t(74672);function B(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.X6,{fontSize:"md",as:"h1",children:"The benefits of Uploading Report"}),(0,_.jsx)(l.xv,{fontSize:"sm",children:"View the Lineage Diff of your dbt code changes on PipeRider Cloud."}),(0,_.jsx)("br",{}),(0,_.jsx)(l.X6,{fontSize:"md",as:"h1",children:"What's Lineage Diff?"}),(0,_.jsx)(l.xv,{fontSize:"sm",children:"Visualize and compare the impact of your dbt code changes."}),(0,_.jsx)(P.Ee,{src:"https://miro.medium.com/v2/resize:fit:3106/format:webp/1*YMiRnwJ7x2xaApEva5C_7Q.png"}),(0,_.jsx)("br",{}),(0,_.jsx)(l.X6,{fontSize:"md",as:"h1",children:"How to upload report?"}),(0,_.jsx)(l.xv,{fontSize:"sm",children:"Please follow the steps below to upload report."}),(0,_.jsxs)(l.GS,{fontSize:"sm",children:[(0,_.jsxs)(l.HC,{children:["Sign up PipeRider Cloud: ",(0,_.jsx)(l.EK,{children:"piperider cloud signup"})]}),(0,_.jsxs)(l.HC,{children:["Upload the latest piperider report:"," ",(0,_.jsx)(l.EK,{children:"piperider cloud upload-report"})]}),(0,_.jsxs)(l.HC,{children:["Login your PipeRider Cloud to view report:"," ",(0,_.jsxs)(l.rU,{href:"https://cloud.piperider.io",isExternal:!0,children:["https://cloud.piperider.io ",(0,_.jsx)(A.h0,{mx:"2px"})]})]})]})]})}function J(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.X6,{fontSize:"md",as:"h1",children:"What's Lineage Diff?"}),(0,_.jsx)(l.xv,{fontSize:"sm",children:"Visualize and compare the impact of your dbt code changes."}),(0,_.jsx)(P.Ee,{src:"https://miro.medium.com/v2/resize:fit:3106/format:webp/1*YMiRnwJ7x2xaApEva5C_7Q.png"}),(0,_.jsx)("br",{}),(0,_.jsx)(l.X6,{fontSize:"md",as:"h1",children:"How to access Lineage Diff?"}),(0,_.jsx)(l.xv,{fontSize:"sm",children:"The Lineage Diff feature is available on PipeRider Cloud."}),(0,_.jsx)(l.xv,{fontSize:"sm",children:"Please follow the steps below to view the Lineage Diff."}),(0,_.jsxs)(l.GS,{fontSize:"sm",children:[(0,_.jsxs)(l.HC,{children:["Sign up PipeRider Cloud: ",(0,_.jsx)(l.EK,{children:"piperider cloud signup"})]}),(0,_.jsxs)(l.HC,{children:["Upload the latest piperider comparison report:"," ",(0,_.jsx)(l.EK,{children:"piperider compare-reports --upload --last"})]}),(0,_.jsxs)(l.HC,{children:["Login your PipeRider Cloud to view report:"," ",(0,_.jsxs)(l.rU,{href:"https://cloud.piperider.io",isExternal:!0,children:["https://cloud.piperider.io ",(0,_.jsx)(A.h0,{mx:"2px"})]})]})]})]})}function W(e){var n=e.singleOnly;return(0,_.jsxs)(R.J2,{placement:"bottom-end",children:[(0,_.jsx)(R.xo,{children:(0,_.jsx)(s.hU,{isRound:!0,"aria-label":"hint of PipeRider Cloud",variant:"ghost",size:"sm",icon:(0,_.jsx)(w.MQ,{})})}),(0,_.jsxs)(R.yk,{children:[(0,_.jsx)(R.QH,{}),(0,_.jsx)(R.Yt,{fontWeight:"semibold",fontSize:"md",children:n?"Upload report to PipeRider Cloud":"Try Lineage Diff on PipeRider Cloud"}),(0,_.jsx)(R.b,{children:n?(0,_.jsx)(B,{}):(0,_.jsx)(J,{})})]})]})}function N(e){var n=e.filterOptions,t=e.setFilterOptions;return(0,_.jsxs)(u.v2,{closeOnSelect:!1,autoSelect:!1,children:[(0,_.jsx)(u.j2,{as:s.zx,fontSize:"14px",children:(0,_.jsxs)(l.kC,{alignItems:"center",children:["Filter ",(0,_.jsx)(h.JO,{as:m.r0X,fontSize:"16px",ml:"5px"})]})}),(0,_.jsx)(u.qy,{minWidth:"240px",children:(0,_.jsxs)(u.__,{type:"radio",defaultValue:"potentially_impacted",onChange:function(e){t((0,a.Z)((0,a.Z)({},n),{},{filterBy:e}))},children:[(0,_.jsx)(u.ii,{value:"potentially_impacted",children:"Potentially Impacted"}),(0,_.jsx)(u.ii,{value:"code_changed",children:"Code Changed"}),(0,_.jsx)(u.ii,{value:"all",children:"All"})]})})]})}function U(e){var n,t,u=e.singleOnly,m=g.nq.getState(),b=m.tableColumnsOnly,y=void 0===b?[]:b,S=m.lineageGraph,k=m.rawData,O=k.broken_by_metrics||!1,Z=(0,x.useState)("topology"),z=(0,o.Z)(Z,2),I=z[0],M=z[1],L=(0,x.useState)(0),P=(0,o.Z)(L,2),R=P[0],B=P[1],J=(0,x.useState)({filterBy:"potentially_impacted"}),U=(0,o.Z)(J,2),q=U[0],V=U[1],G=(0,C.TH)(),K=(0,o.Z)(G,2),Q=K[0],X=K[1],Y=(0,D.B)(),$=function(){M("alphabet"===I?"topology":"alphabet")},ee=(null===(n=k.base)||void 0===n?void 0:n.datasource.skip_datasource)||(null===(t=k.input)||void 0===t?void 0:t.datasource.skip_datasource),ne=function(e){var n={};e.forEach((function(e){var t,i=(0,o.Z)(e,3),r=(i[0],i[1]),a=r.base,s=r.target,l=i[2],d=null!==s&&void 0!==s?s:a,c=null!==(t=null===d||void 0===d?void 0:d.resource_type)&&void 0!==t?t:"";n[c]||(n[c]={total:0,changed:0}),n[c].total+=1,l.changeStatus&&(n[c].changed+=1)}));var t=[];return t.push({resourceType:"",name:"All",icon:null,total:0,changed:0}),n.model&&t.push((0,a.Z)({resourceType:"model",name:"Models",icon:(0,w.yk)("model").icon},n.model)),n.seed&&t.push((0,a.Z)({resourceType:"seed",name:"Seeds",icon:(0,w.yk)("seed").icon},n.seed)),n.source&&t.push((0,a.Z)({resourceType:"source",name:"Sources",icon:(0,w.yk)("source").icon},n.source)),n.metric&&t.push((0,a.Z)({resourceType:"metric",name:"Metrics",icon:(0,w.yk)("metric").icon},n.metric)),t}(y),te=ne[R].resourceType,ie=!!u&&!1===function(e){var n,t=(0,i.Z)(e);try{for(t.s();!(n=t.n()).done;){var r,a=(0,o.Z)(n.value,2)[1].base;if(("model"===(null===a||void 0===a?void 0:a.resource_type)||"seed"===(null===a||void 0===a?void 0:a.resource_type))&&null!==a&&void 0!==a&&null!==(r=a.__table)&&void 0!==r&&r.row_count)return!0}}catch(s){t.e(s)}finally{t.f()}return!1}(y),re=(0,x.useMemo)((function(){return y.filter((function(e){var n,t=(0,o.Z)(e,2),i=(t[0],t[1]),r=i.base,a=i.target,s=null!==a&&void 0!==a?a:r;return new Set(["model","seed","source","metric"]).has(null!==(n=null===s||void 0===s?void 0:s.resource_type)&&void 0!==n?n:"")}))}),[y]),oe=(0,x.useMemo)((function(){var e=y.filter((function(e){var n=(0,o.Z)(e,2),t=(n[0],n[1]),i=t.base,r=t.target,a=null!==r&&void 0!==r?r:i;return""===te?"test"!==(null===a||void 0===a?void 0:a.resource_type):(null===a||void 0===a?void 0:a.resource_type)===te}));return"topology"===I&&S?function(e,n){var t=(0,f.zX)(Object.keys(n),(function(e){var t=n[e].children;return Object.keys(t)})),i={};e.forEach((function(e){i[e[0]]=e}));var r=[];return t.forEach((function(e){i[e]&&r.push(i[e])})),r}(e,S):function(e){function n(e){var n,t=(0,o.Z)(e,2),i=(t[0],t[1]),r=i.base,a=i.target,s=null!==a&&void 0!==a?a:r;return null!==(n=null===s||void 0===s?void 0:s.name)&&void 0!==n?n:""}var t=(0,r.Z)(e);return t.sort((function(e,t){var i=n(e).toLowerCase(),r=n(t).toLowerCase();return i.localeCompare(r)})),t}(e)}),[te,I,y,S]).filter((function(e){var n,t=(0,o.Z)(e,3),i=t[1],r=i.base,a=i.target,s=t[2],l=null!==r&&void 0!==r?r:a;if(!l)return!1;if(q.search&&!(null!==(n=null===l||void 0===l?void 0:l.name)&&void 0!==n?n:"").includes(q.search))return!1;return!!u||("code_changed"===(null===q||void 0===q?void 0:q.filterBy)?!!s.changeStatus:"potentially_impacted"!==q.filterBy||!!s.impactStatus)}));return O?(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(l.kC,{direction:"column",w:"100%",minHeight:"650px",children:[(0,_.jsxs)(l.kC,{w:"100%",paddingBottom:"10px",marginBottom:"20px",children:[(0,_.jsx)(l.X6,{fontSize:24,children:u?"Overview":"Impact Summary"}),(0,_.jsx)(l.LZ,{}),Y?(0,_.jsxs)(s.zx,{size:"sm",bg:"piperider.500",color:"white",_hover:{bg:"piperider.600"},_active:{bg:"piperider.800"},onClick:function(){X("".concat(Q,"?g_v=1"))},disabled:!0,children:[u?"Lineage Graph":"Lineage Diff",(0,_.jsx)(h.JO,{as:p.UCm,ml:1})]}):(0,_.jsx)(W,{singleOnly:u})]}),(0,_.jsxs)(d.bZ,{status:"warning",mb:5,children:[(0,_.jsx)(d.zM,{}),(0,_.jsxs)(l.xu,{children:[(0,_.jsx)(d.Cd,{children:"Impact Summary is not available"}),(0,_.jsx)(d.X,{fontSize:"sm",children:(0,_.jsxs)(l.xu,{children:["We discovered that your reports contain ",(0,_.jsx)("b",{children:"legacy metrics"}),". Please note that the",(0,_.jsx)(l.EK,{colorScheme:"orange",children:(0,_.jsxs)(l.rU,{href:"https://docs.getdbt.com/docs/build/metrics",isExternal:!0,children:["dbt_metrics package",(0,_.jsx)(A.h0,{mx:"2px"})]})}),"has been deprecated and superseded by",(0,_.jsx)(l.EK,{colorScheme:"orange",children:(0,_.jsxs)(l.rU,{href:"https://docs.getdbt.com/docs/build/about-metricflow",isExternal:!0,children:["MetricFlow",(0,_.jsx)(A.h0,{mx:"2px"})]})}),". Kindly uninstall the dbt_metrics package from your dbt project and then regenerate the reports to obtain the impact summary report."]})})]})]})]})}):(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(l.kC,{direction:"column",w:"100%",minHeight:"650px",children:[ee&&(0,_.jsx)(j.a,{}),(0,_.jsxs)(l.kC,{w:"100%",paddingBottom:"10px",marginBottom:"20px",children:[(0,_.jsx)(l.X6,{fontSize:24,children:u?"Overview":"Impact Summary"}),(0,_.jsx)(l.LZ,{}),Y?(0,_.jsxs)(s.zx,{size:"sm",bg:"piperider.500",color:"white",_hover:{bg:"piperider.600"},_active:{bg:"piperider.800"},onClick:function(){X("".concat(Q,"?g_v=1"))},children:[u?"Lineage Graph":"Lineage Diff",(0,_.jsx)(h.JO,{as:p.UCm,ml:1})]}):(0,_.jsx)(W,{singleOnly:u})]}),ie&&(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(d.bZ,{status:"warning",mb:5,children:[(0,_.jsx)(d.zM,{}),(0,_.jsxs)(l.xu,{children:[(0,_.jsx)(d.Cd,{children:"No models or seeds are profiled"}),(0,_.jsxs)(d.X,{fontSize:"sm",children:["execute the ",(0,_.jsx)(l.EK,{colorScheme:"orange",children:"piperider run"})," ","command with the ",(0,_.jsx)(l.EK,{colorScheme:"orange",children:"--select"})," ","option to specifically choose the resources that you want to profile."]})]})]})}),!u&&(0,_.jsx)(H,{tableColumnsOnly:re}),(0,_.jsx)(c.mQ,{onChange:B,mb:4,children:(0,_.jsx)(c.td,{children:ne.map((function(e){return(0,_.jsx)(c.OK,{children:e.name})}))})}),(0,_.jsxs)(l.kC,{alignContent:"stretch",gap:3,my:2,children:[(0,_.jsx)(v.f,{onChange:function(e){V((0,a.Z)((0,a.Z)({},q),{},{search:e}))},placeholder:te?"Search ".concat(te,"s"):"Search"}),!u&&(0,_.jsx)(N,{filterOptions:q,setFilterOptions:V})]}),""===te&&(0,_.jsx)(E,{tableColumnsOnly:oe,sortMethod:I,handleSortChange:$,singleOnly:u}),"metric"===te&&(0,_.jsx)(F,{tableColumnsOnly:oe,sortMethod:I,handleSortChange:$,singleOnly:u}),("model"===te||"seed"===te||"source"===te)&&(0,_.jsx)(T,{tableColumnsOnly:oe,sortMethod:I,handleSortChange:$,singleOnly:u})]})})}},48159:function(e,n,t){t.d(n,{O:function(){return S}});var i=t(82175),r=t(61431),o=t(37932),a=t(80983),s=t(97688),l=t(70647),d=t(39129),c=t(84509),u=t(50681),h=t(47316),x=t(60859),m=t(59830),p=t(44716),f=t(88584),g=t(74360),v=t(77318),j=t(99147),b=["comparableAssertions","filterByTableOnly","filterString","setFilterString","caseSensitiveFilter","singleOnly","tableSize"],y=["status"];function S(e){var n=e.comparableAssertions,t=e.filterByTableOnly,S=e.filterString,C=void 0===S?"":S,k=(e.setFilterString,e.caseSensitiveFilter),w=e.singleOnly,_=e.tableSize,O=(0,o.Z)(e,b),Z=(0,s.qY)(),z=(0,h.Cl)(),T=(0,m.useState)([]),F=(0,r.Z)(T,2),E=F[0],D=F[1],I=(0,m.useState)([]),M=(0,r.Z)(I,2),L=M[0],H=M[1],A=(0,m.useState)(),P=(0,r.Z)(A,2),R=P[0],B=P[1];(0,m.useEffect)((function(){var e,t=(null===n||void 0===n||null===(e=n.target)||void 0===e?void 0:e.map((function(e,t){var r,a,s=(null===n||void 0===n||null===(r=n.base)||void 0===r?void 0:r[t])||{},l=(s.status,(0,o.Z)(s,y)),d=null===n||void 0===n||null===(a=n.base)||void 0===a?void 0:a[t];return(0,i.Z)((0,i.Z)({},e||l||{}),{},{status:w?null===d||void 0===d?void 0:d.status:null===e||void 0===e?void 0:e.status,baseStatus:null===d||void 0===d?void 0:d.status,baseRef:d,targetStatus:null===e||void 0===e?void 0:e.status,targetRef:e})})).sort((function(e){return"failed"===e.status?-1:1})))||[];D(t)}),[]);var J=w?[z.accessor("status",{cell:function(e){return e.getValue()},header:"Status",enableGlobalFilter:!1})]:[z.accessor("baseStatus",{cell:function(e){return e.getValue()},header:"Base Status",enableGlobalFilter:!1}),z.accessor("targetStatus",{cell:function(e){return e.getValue()},header:"Target Status",enableGlobalFilter:!1})],W=w?[z.accessor("expected",{cell:function(e){return e.getValue()},header:"Expected"}),z.accessor("actual",{cell:function(e){return"dbt"===e.row.original.source?e.row.original.message:e.getValue()},header:"Actual"})]:[],N=(0,m.useMemo)((function(){return[].concat(J,[{accessorFn:function(e){var n,t;return"".concat(null!==(n=e.table)&&void 0!==n?n:"",".").concat(null!==(t=e.column)&&void 0!==t?t:"")},id:"testSubject",header:"Test Subject"},z.accessor("name",{cell:function(e){var n,t;return null!==(n=null!==(t=e.row.original.display_name)&&void 0!==t?t:e.getValue())&&void 0!==n?n:e.row.original.id},header:"Assertion"})],W,[z.accessor("source",{cell:function(e){return e.getValue()},header:"Source",enableGlobalFilter:!1})])}),[]),U=(0,x.b7)({columns:N,data:E,getCoreRowModel:(0,h.sC)(),getSortedRowModel:(0,h.tj)(),onSortingChange:H,state:{sorting:L}});return 0===E.length?(0,j.jsx)(l.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,j.jsx)(v.J,{text:"No Tests Available"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.xJ,(0,i.Z)((0,i.Z)({},O),{},{children:(0,j.jsxs)(d.iA,{variant:"simple",size:_,children:[(0,j.jsx)(d.hr,{children:(0,j.jsxs)(d.Tr,{children:[U.getFlatHeaders().map((function(e){var n=(0,j.jsx)(c.m$.span,{pl:"4",pos:"absolute",right:0,children:e.column.getIsSorted()?"desc"===e.column.getIsSorted()?(0,j.jsx)(a.AS,{"aria-label":"sorted descending"}):(0,j.jsx)(a.$l,{"aria-label":"sorted ascending"}):null}),t=Boolean(e.id.match(/status/gi));return(0,j.jsxs)(d.Th,{pos:"relative",onClick:e.column.getToggleSortingHandler(),_hover:{cursor:"pointer"},textAlign:t?"center":"left",px:t?0:2,children:[(0,x.ie)(e.column.columnDef.header,e.getContext()),n]},e.id)})),!w&&(0,j.jsx)(d.Th,{textAlign:"center",children:"View"})]})}),(0,j.jsx)(d.p3,{children:U.getSortedRowModel().rows.filter((function(e){var n=e.original,i=new RegExp(C,"g".concat(k?"":"i"));return t?(n.table||"")===C:!C||(((null===n||void 0===n?void 0:n.name)||"").search(i)>-1||(n.table||"").search(i)>-1||(n.column||"").search(i)>-1)})).map((function(e){var n,t=e.original,i=t.id,r=t.table,o=t.column,a=t.name,s=t.expected,c=t.actual,h=t.source,x=t.targetStatus,m=t.baseStatus,g=t.baseRef,v=t.targetRef,b=t.message,y=t.display_name,S="".concat(null!==r&&void 0!==r?r:"").concat(o?"."+o:""),C=(0,p.sG)(s),k=(0,p.sG)("piperider"===h?c:b),_=null!==(n=null!==y&&void 0!==y?y:a)&&void 0!==n?n:i;return(0,j.jsxs)(d.Tr,{children:[(0,j.jsx)(d.Td,{children:(0,j.jsx)(l.kC,{justifyContent:"center",children:(0,j.jsx)(f.Op,{status:m})})}),!w&&(0,j.jsx)(d.Td,{children:(0,j.jsx)(l.kC,{justifyContent:"center",children:(0,j.jsx)(f.Op,{status:x})})}),(0,j.jsx)(d.Td,{maxWidth:"16em",px:2,children:(0,j.jsx)(u.u,{label:S,children:(0,j.jsx)(l.xv,{fontSize:"sm",noOfLines:1,textOverflow:"ellipsis",children:S})})}),(0,j.jsx)(d.Td,{maxWidth:"16em",px:2,children:(0,j.jsx)(u.u,{label:_,children:(0,j.jsx)(l.xv,{noOfLines:1,textOverflow:"ellipsis",children:_})})}),w&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.Td,{px:2,children:(0,j.jsx)(u.u,{label:C,children:(0,j.jsx)(l.EK,{maxWidth:"14em",noOfLines:1,color:"gray.700",children:C})})}),(0,j.jsx)(d.Td,{px:2,children:(0,j.jsx)(u.u,{label:k,children:(0,j.jsx)(l.EK,{maxWidth:"14em",noOfLines:1,color:(w?"failed"===m:"failed"===x)?"red.500":"gray.700",children:k})})})]}),(0,j.jsx)(d.Td,{px:2,children:h}),!w&&(0,j.jsx)(d.Td,{textAlign:"center",onClick:function(){B({assertionSource:h||(null===g||void 0===g?void 0:g.source),assertionName:a||(null===g||void 0===g?void 0:g.name),base:g,target:v}),Z.onOpen()},children:(0,j.jsx)(l.xv,{as:"span",cursor:"pointer",children:"\ud83d\udd0d"})})]},e.id)}))})]})})),(0,j.jsx)(g.E,(0,i.Z)((0,i.Z)({},Z),{},{data:R,onClose:function(){Z.onClose(),B(void 0)}}))]})}},99828:function(e,n,t){t.d(n,{l:function(){return j}});var i=t(61431),r=t(80983),o=t(70647),a=t(16657),s=t(50681),l=t(43432),d=t(24978),c=t(59830),u=t(45697),h=t(11060),x=t(79244),m=t(52630),p=(t(25872),t(24970)),f=t(99147);function g(e){var n,t=e.data,r=void 0===t?[]:t,o=e.isHorizontal,a=e.stacked,s=e.hasDimensions;x.kL.register(x.ZL,x.f$,x.uw,x.u);var l=[],d=Array.from(u.Uh.values()),c=!s&&2===r.length;r.forEach((function(e,t){var r,o=(null!==e&&void 0!==e?e:{}).data,a=void 0===o?[]:o,s=p.zip.apply(void 0,(0,h.Z)(a)),u=(0,i.Z)(s,2),x=u[0],m=u[1];n=null!==(r=n)&&void 0!==r?r:x;var f=(void 0===m?[]:m).map((function(e){return Number(null!==e&&void 0!==e?e:void 0)})),g=c?0===t?"Base":"Target":null===e||void 0===e?void 0:e.label;l.push({label:g,data:f,borderColor:d[t],backgroundColor:d[t]+"50"})}));var g={responsive:!0,maintainAspectRatio:!1,indexAxis:o?"y":"x",plugins:{tooltip:{mode:"index",position:"nearest",intersect:!1,callbacks:{title:function(e){var n=(0,i.Z)(e,1)[0].label,t=n.lastIndexOf(",");return n.slice(0,t)},labelColor:function(e){var n=e.datasetIndex;return{borderColor:u.wC,backgroundColor:d[n]}}}},legend:{position:"bottom",labels:{padding:10,boxWidth:30,generateLabels:function(e){return e.data.datasets.map((function(e,n){return{fillStyle:d[n],text:"".concat(e.label)}}))}}}},scales:{x:{stacked:a},y:{stacked:a}}},v={datasets:l,labels:n};return(0,f.jsx)(m.$Q,{plugins:[x.De],data:v,options:g})}function v(e){var n=e.data,t=void 0===n?[]:n,r=e.timeGrain,o=e.fill,a=e.stacked,s=e.hasDimensions;x.kL.register(x.jn,x.od,x.RM,x.f$,x.uw,x.Gu,x.u);var l=[],d=Array.from(u.Uh.values()),c=!s&&2===t.length;t.forEach((function(e,n){var t=(null!==e&&void 0!==e?e:{}).data,r=void 0===t?[]:t,a=p.zip.apply(void 0,(0,h.Z)(r)),s=(0,i.Z)(a,2),x=s[0],m=s[1],f=(void 0===m?[]:m).map((function(e,n){return{x:x[n],y:Number(null!==e&&void 0!==e?e:void 0)}})),g=c?0===n?"Base":"Target":null===e||void 0===e?void 0:e.label;l.push({label:g,data:f,borderColor:d[n],pointBackgroundColor:d[n],spanGaps:!0,fill:o,backgroundColor:d[n]+"50",segment:{borderColor:function(e){return(0,u.im)(e,"rgb(0,0,0,0.2)")},borderDash:function(e){return(0,u.im)(e,[6,6])},backgroundColor:function(e){return(0,u.im)(e,"rgb(0,0,0,0.1)")}}})}));var g={responsive:!0,maintainAspectRatio:!1,plugins:{filler:{},tooltip:{mode:"index",position:"nearest",intersect:!1,callbacks:{title:function(e){var n=(0,i.Z)(e,1)[0].label,t=n.lastIndexOf(",");return n.slice(0,t)},labelColor:function(e){var n=e.datasetIndex;return{borderColor:u.wC,backgroundColor:d[n]}}}},legend:{position:"bottom",labels:{padding:10,boxWidth:30,generateLabels:function(e){return e.data.datasets.map((function(e,n){return{fillStyle:d[n],text:"".concat(e.label)}}))}}}},scales:{x:{type:"time",time:{unit:r}},y:{stacked:a}}},v={datasets:l};return(0,f.jsx)(m.x1,{plugins:[x.De],data:v,options:g})}function j(e){var n=e.data,t=n.base,u=n.target,h=e.singleOnly,x=(0,c.useState)("line"),m=(0,i.Z)(x,2),p=m[0],g=m[1],v=u||t,j=null===v||void 0===v?void 0:v.grain,y="-",S="-";if(v&&v.data.length>0){var C=null===v||void 0===v?void 0:v.data[0],k=null===v||void 0===v?void 0:v.data[v.data.length-1];y=String(C[0]),S=String(k[0])}return(0,f.jsxs)(o.xu,{p:3,children:[(0,f.jsxs)(o.xu,{pb:3,children:[(0,f.jsxs)(o.kC,{className:"widget-header",alignItems:"center",gap:2,mb:2,justifyContent:"space-between",children:[(0,f.jsxs)(o.kC,{alignItems:"center",gap:2,children:[(0,f.jsx)(a.Vp,{colorScheme:"blue",variant:"subtle",fontWeight:"medium",children:null===v||void 0===v?void 0:v.label}),(0,f.jsx)(s.u,{shouldWrapChildren:!0,label:null===v||void 0===v?void 0:v.description,placement:"right",children:(0,f.jsx)(l.JO,{as:r.sz})})]}),(0,f.jsx)(d.Ph,{w:"initial",size:"sm",value:p,onChange:function(e){return g(e.currentTarget.value)},children:[{type:"line",displayName:"Line Chart"},{type:"y-bar",displayName:"Bar Chart"}].map((function(e){return(0,f.jsx)("option",{value:e.type,children:e.displayName},e.type)}))})]}),(0,f.jsx)(o.kC,{children:(0,f.jsxs)(o.xv,{color:"gray.500",fontSize:"sm",children:["from ",y," to ",S]})})]}),(0,f.jsx)(o.kC,{h:"300px",maxW:"98%",children:b({selectedBMChartType:p,comparableBMData:{base:t,target:u},singleOnly:h,timeGrain:j})})]})}function b(e){var n=e.selectedBMChartType,t=e.singleOnly,i=e.timeGrain,r=e.comparableBMData,o=null!==r&&void 0!==r?r:{},a=o.base,s=o.target,l=t?[a]:[a,s];return"line"===n?(0,f.jsx)(v,{data:l,timeGrain:i}):"stacked-line"===n?(0,f.jsx)(v,{data:l,timeGrain:i,fill:!0,stacked:!0}):"y-bar"===n?(0,f.jsx)(g,{data:l}):"stacked-y-bar"===n?(0,f.jsx)(g,{data:l,stacked:!0}):"x-bar"===n?(0,f.jsx)(g,{data:l,isHorizontal:!0}):"stacked-x-bar"===n?(0,f.jsx)(g,{data:l,stacked:!0,isHorizontal:!0}):(0,u.Jt)()}},35513:function(e,n,t){t.d(n,{r:function(){return f}});var i=t(82175),r=t(37932),o=t(61431),a=t(70647),s=t(39304),l=t(71701),d=t.n(l),c=t(9681),u=t(72846),h=t(46145),x=t(59830),m=t(99147),p=["columnDatum","chartKind"];function f(e){var n=e.columnDatum,t=n||{},l=t.type,f=t.topk,g=t.histogram,v=t.trues,j=t.falses,b=(0,x.useState)(0),y=(0,o.Z)(b,2),S=y[0],C=y[1],k=d()(v)&&d()(j),w=f&&l,_=g&&l,O="other"===l,Z=k||_||w||O,z="string"===l?h.d4:"Histogram";function T(e){var n=e.columnDatum,t=e.chartKind,o=(0,r.Z)(e,p);return(0,m.jsx)(u.B,(0,i.Z)((0,i.Z)({px:0,title:null===n||void 0===n?void 0:n.name},o),{},{children:(0,c.SH)(n,t)}))}function F(e){return"string"===typeof e&&["inf","-inf","nan"].includes(e)}return(0,m.jsx)(a.xu,{pb:10,width:"100%",children:Z?(0,m.jsxs)(s.mQ,{isLazy:!0,index:S,onChange:function(e){return C(e)},children:[(0,m.jsxs)(s.td,{children:[w&&(0,m.jsx)(s.OK,{children:"Top Categories"}),_&&(0,m.jsx)(s.OK,{children:z}),k&&(0,m.jsx)(s.OK,{children:"Boolean"}),O&&(0,m.jsx)(s.OK,{children:"Other"})]}),(0,m.jsxs)(s.nP,{children:[w&&(0,m.jsx)(s.x4,{px:0,children:(0,m.jsx)(T,{columnDatum:n,chartKind:"topk"})}),_&&(0,m.jsx)(s.x4,{px:0,children:(0,m.jsx)(T,{columnDatum:n,chartKind:"histogram",minHeight:"300px",maxHeight:"300px"})}),k&&(0,m.jsx)(s.x4,{px:0,children:(0,m.jsx)(T,{columnDatum:n,chartKind:"pie",minHeight:"300px",maxHeight:"300px"})}),O&&(0,m.jsx)(s.x4,{px:0,children:(0,m.jsx)(T,{columnDatum:n,minHeight:"300px",maxHeight:"300px"})})]})]}):(0,c.y2)({valids:null===n||void 0===n?void 0:n.valids,infinite:F(null===n||void 0===n?void 0:n.max)||F(null===n||void 0===n?void 0:n.min),schema_type:null===n||void 0===n?void 0:n.schema_type})})}},58753:function(e,n,t){t.d(n,{t:function(){return c}});var i=t(70647),r=t(9681),o=t(25068),a=t(57664),s=t(78442),l=t(39536),d=t(99147);function c(e){var n=e.columnDatum,t=e.hasAnimation,c=(0,l.Wx)(n),u=!!t&&{};return(0,d.jsxs)(i.kC,{direction:"column",width:"100%",children:[(0,d.jsx)(i.xu,{h:"2em",flexGrow:1,children:c?(0,d.jsx)(o.Wi,{data:c,animation:u}):(0,r.y2)({})}),(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(a.P,{columnDatum:n,width:"100%"}),(0,d.jsx)(s.Q,{columnDatum:n,width:"100%"})]})]})}},81989:function(e,n,t){t.d(n,{E:function(){return s}});var i=t(70647),r=t(9681),o=t(5752),a=t(99147);function s(e){var n=e.columnDatum;return(0,a.jsx)(i.xu,{width:"100%",children:n?(0,a.jsx)(o.Y,{columnDatum:n,width:"100%"}):(0,r.y2)({})})}},44583:function(e,n,t){t.d(n,{M:function(){return l}});var i=t(70647),r=t(9681),o=t(86036),a=t(39383),s=t(99147);function l(e){var n=e.columnDatum,t=n||{},l=t.p50,d=t.max,c=t.min,u=t.p25,h=t.p75;return(0,s.jsx)(i.xu,{minWidth:"0px",width:"100%",children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.xu,{children:(0,s.jsx)(o.UZ,{quantileData:{p50:l,max:d,min:c,p25:u,p75:h}})}),(0,s.jsx)(a.d,{columnDatum:n})]}):(0,r.y2)({})})}},44544:function(e,n,t){t.d(n,{h:function(){return d},k:function(){return l}});var i=t(80983),r=t(70647),o=t(54144),a=t(11230),s=t(99147);function l(e){var n=e.base,t=e.target,i=e.stat,r={};return"execution_time"===i?r=(0,a.U8)(null===n||void 0===n?void 0:n.__runResult,null===t||void 0===t?void 0:t.__runResult,"execution_time","duration"):"row_count"===i&&(r=(0,a.U8)(null===n||void 0===n?void 0:n.__table,null===t||void 0===t?void 0:t.__table,"row_count","decimal")),r}function d(e){var n,t=e.isActive,a=e.negativeChange,d=l(e),c=d.statValueF,u=d.statDiff,h=d.statDiffF,x=(0,o.Mr)("added").color,m=(0,o.Mr)("removed").color,p=(0,o.Mr)("modified").color;return n=u&&u<0?t?"white":a?x:p:t?"white":a?m:p,(0,s.jsxs)(r.xv,{children:[c,"\xa0",u?(0,s.jsxs)(r.xv,{as:"span",color:n,children:[u<0?(0,s.jsx)(i.AS,{}):(0,s.jsx)(i.$l,{}),h]}):(0,s.jsx)(s.Fragment,{})]})}},56446:function(e,n,t){t.d(n,{e0:function(){return a.e},gb:function(){return r.gb},Jd:function(){return r.Jd},QN:function(){return o.QN},rH:function(){return o.rH},Se:function(){return o.Se},Jt:function(){return i.Jt},im:function(){return i.ch}});t(88584),t(75288),t(72846),t(86036),t(25068),t(80058),t(42213);var i=t(9681),r=(t(36094),t(94428)),o=(t(27467),t(4684)),a=(t(48159),t(35513),t(58753),t(81989),t(63163));t(44583)},45697:function(e,n,t){t.d(n,{B1:function(){return o.B1},FP:function(){return o.FP},FR:function(){return o.FR},Jd:function(){return i.Jd},Jt:function(){return i.Jt},QN:function(){return i.QN},Se:function(){return i.Se},Uh:function(){return o.Uh},W3:function(){return o.W3},e0:function(){return i.e0},im:function(){return i.im},ll:function(){return o.ll},mq:function(){return r.mq},nq:function(){return o.nq},rH:function(){return i.rH},wC:function(){return o.wC}});var i=t(56446),r=t(12457),o=(t(58529),t(7824),t(44716))},85333:function(e,n,t){t.d(n,{B:function(){return s},Q:function(){return a}});var i=t(59830),r=t(99147),o=(0,i.createContext)(!1),a=function(e){var n=e.cloud,t=e.children;return(0,r.jsx)(o.Provider,{value:n,children:t})};function s(){return(0,i.useContext)(o)}}}]);
//# sourceMappingURL=759.69cdd006.chunk.js.map